{"ast":null,"code":"var _jsxFileName = \"/Users/aleksandergasior/Documents/tsh/react-interview-starter-ts/src/app/products/Products.tsx\";\nimport React, { useContext, useEffect, useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport classNames from \"classnames\";\nimport { Pagination } from \"antd\";\nimport { AppRoute } from \"routing/AppRoute.enum\";\nimport { AppContext } from \"../../providers/AppProviders\";\nimport { Header } from \"app/header/Header\";\nimport { Product } from \"../product/Product\";\nimport { Info } from \"../info/Info\";\nimport \"antd/dist/antd.css\";\nimport \"./Products.scss\";\nexport const Products = () => {\n  const products = useContext(AppContext);\n  const [filters, setFilters] = useState([\"all\"]);\n  const [currentPage, setCurrentPage] = useState(1);\n  const [showProducts, setShowProducts] = useState(products);\n  const [search, setSearch] = useState(\"\");\n  useEffect(() => setShowProducts(products), [products]);\n  const filteredProducts = showProducts.filter(product => {\n    if (!product) return null;\n\n    if (search === \"\") {\n      return product;\n    } else if (product.name.toLowerCase().includes(search.toLocaleLowerCase())) {\n      return product;\n    }\n  }).filter(product => {\n    if (product[\"active\"] && filters.includes(\"active\")) {\n      return product;\n    }\n\n    if (product[\"promo\"] && filters.includes(\"promo\")) {\n      return product;\n    }\n\n    if (filters.includes(\"all\")) {\n      return product;\n    }\n  });\n  const countProducts = filteredProducts.length;\n  const pageProducts = filteredProducts.slice(currentPage === 1 ? 0 : (currentPage - 1) * 4, 4 * currentPage);\n\n  const renderProducts = () => pageProducts.length !== 0 ? pageProducts.map(product => {\n    const {\n      id\n    } = product;\n    return /*#__PURE__*/React.createElement(Product, {\n      product: product,\n      key: id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 16\n      }\n    });\n  }) : /*#__PURE__*/React.createElement(Info, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }\n  });\n\n  const buttonPrevClassess = classNames(\"products__button\", {\n    \"products__button--disabled\": currentPage === 1\n  });\n  const buttonNextClassess = classNames(\"products__button\", {\n    \"products__button--disabled\": currentPage === countProducts\n  });\n\n  const renderPagination = () => /*#__PURE__*/React.createElement(\"div\", {\n    className: \"products__pagination\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: buttonPrevClassess,\n    onClick: () => setCurrentPage(1),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }\n  }, \"First\"), /*#__PURE__*/React.createElement(Pagination, {\n    current: currentPage,\n    defaultPageSize: 4,\n    total: countProducts,\n    onChange: page => {\n      setCurrentPage(page);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    className: buttonNextClassess,\n    onClick: () => setCurrentPage(countProducts),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 7\n    }\n  }, \"Last\"));\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"products\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Header, {\n    setFilters: setFilters,\n    filters: filters,\n    setSearch: setSearch,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"products__container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 9\n    }\n  }, renderProducts())), /*#__PURE__*/React.createElement(Link, {\n    to: AppRoute.login,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 7\n    }\n  }, \" Login \"));\n};","map":{"version":3,"sources":["/Users/aleksandergasior/Documents/tsh/react-interview-starter-ts/src/app/products/Products.tsx"],"names":["React","useContext","useEffect","useState","Link","classNames","Pagination","AppRoute","AppContext","Header","Product","Info","Products","products","filters","setFilters","currentPage","setCurrentPage","showProducts","setShowProducts","search","setSearch","filteredProducts","filter","product","name","toLowerCase","includes","toLocaleLowerCase","countProducts","length","pageProducts","slice","renderProducts","map","id","buttonPrevClassess","buttonNextClassess","renderPagination","page","login"],"mappings":"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","sourcesContent":["import React, { useContext, useEffect, useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport classNames from \"classnames\";\nimport { Pagination } from \"antd\";\nimport { AppRoute } from \"routing/AppRoute.enum\";\nimport { AppContext } from \"../../providers/AppProviders\";\nimport { Header } from \"app/header/Header\";\nimport { Product } from \"../product/Product\";\nimport { Info } from \"../info/Info\";\nimport \"antd/dist/antd.css\";\nimport \"./Products.scss\";\n\nexport const Products = () => {\n  const products = useContext(AppContext);\n  const [filters, setFilters] = useState<string[]>([\"all\"]);\n  const [currentPage, setCurrentPage] = useState<number>(1);\n  const [showProducts, setShowProducts] = useState(products);\n  const [search, setSearch] = useState<string>(\"\");\n\n  useEffect(() => setShowProducts(products), [products]);\n\n  const filteredProducts = showProducts!\n    .filter((product) => {\n      if (!product) return null;\n      if (search === \"\") {\n        return product;\n      } else if (\n        product.name.toLowerCase().includes(search.toLocaleLowerCase())\n      ) {\n        return product;\n      }\n    })\n    .filter((product) => {\n      if (product[\"active\"] && filters.includes(\"active\")) {\n        return product;\n      }\n      if (product[\"promo\"] && filters.includes(\"promo\")) {\n        return product;\n      }\n      if (filters.includes(\"all\")) {\n        return product;\n      }\n    });\n\n  const countProducts = filteredProducts.length;\n\n  const pageProducts = filteredProducts.slice(\n    currentPage === 1 ? 0 : (currentPage - 1) * 4,\n    4 * currentPage\n  );\n\n  const renderProducts = () =>\n    pageProducts.length !== 0 ? (\n      pageProducts.map((product) => {\n        const { id } = product;\n        return <Product product={product} key={id} />;\n      })\n    ) : (\n      <Info />\n    );\n\n  const buttonPrevClassess = classNames(\"products__button\", {\n    \"products__button--disabled\": currentPage === 1,\n  });\n\n  const buttonNextClassess = classNames(\"products__button\", {\n    \"products__button--disabled\": currentPage === countProducts,\n  });\n\n  const renderPagination = () => (\n    <div className=\"products__pagination\">\n      <button className={buttonPrevClassess} onClick={() => setCurrentPage(1)}>\n        First\n      </button>\n      <Pagination\n        current={currentPage}\n        defaultPageSize={4}\n        total={countProducts}\n        onChange={(page) => {\n          setCurrentPage(page);\n        }}\n      />\n      <button\n        className={buttonNextClassess}\n        onClick={() => setCurrentPage(countProducts)}\n      >\n        Last\n      </button>\n    </div>\n  );\n\n  return (\n    <>\n      <div className=\"products\">\n        <Header\n          setFilters={setFilters}\n          filters={filters}\n          setSearch={setSearch}\n        />\n        <div className=\"products__container\">{renderProducts()}</div>\n      </div>\n\n      <Link to={AppRoute.login}> Login </Link>\n    </>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}
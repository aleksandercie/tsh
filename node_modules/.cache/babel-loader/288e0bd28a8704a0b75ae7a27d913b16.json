{"ast":null,"code":"var _jsxFileName = \"/Users/aleksandergasior/Documents/tsh/react-interview-starter-ts/src/app/products/Products.tsx\";\nimport React, { useContext, useEffect, useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport \"antd/dist/antd.css\";\nimport { Pagination } from \"antd\";\nimport { AppRoute } from \"routing/AppRoute.enum\";\nimport { AppContext } from \"../../providers/AppProviders\";\nimport { Product } from \"../product/Product\";\nimport \"./Products.scss\";\nimport { Header } from \"app/header/Header\";\nexport const Products = () => {\n  const products = useContext(AppContext);\n  const [filters, setFilters] = useState([\"all\"]);\n  const [currentPage, setCurrentPage] = useState(1);\n  const [showProducts, setShowProducts] = useState(products);\n  useEffect(() => setShowProducts(products), [products]);\n  const filteredProducts = showProducts.filter(product => {\n    if (product[\"active\"] && filters.includes(\"active\")) {\n      return product;\n    }\n\n    if (product[\"promo\"] && filters.includes(\"promo\")) {\n      return product;\n    }\n\n    if (filters.includes(\"all\")) {\n      return product;\n    }\n  });\n  const pageProducts = filteredProducts.slice(currentPage === 1 ? 0 : (currentPage - 1) * 4, 4 * currentPage);\n\n  const renderProducts = () => {\n    if (!pageProducts) return null;\n    return pageProducts.map(product => {\n      const {\n        id\n      } = product;\n      return /*#__PURE__*/React.createElement(Product, {\n        product: product,\n        key: id,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 14\n        }\n      });\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"products\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Header, {\n    setFilters: setFilters,\n    filters: filters,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"products__container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 9\n    }\n  }, renderProducts()), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"products__pagination\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"products__button\",\n    onClick: () => setCurrentPage(1),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 11\n    }\n  }, \"First\"), /*#__PURE__*/React.createElement(Pagination, {\n    current: currentPage,\n    defaultPageSize: 4,\n    total: 20,\n    onChange: page => {\n      setCurrentPage(page);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"products__button\",\n    onClick: () => setCurrentPage(5),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 11\n    }\n  }, \"Last\"))), /*#__PURE__*/React.createElement(Link, {\n    to: AppRoute.login,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }\n  }, \" Login \"));\n};","map":{"version":3,"sources":["/Users/aleksandergasior/Documents/tsh/react-interview-starter-ts/src/app/products/Products.tsx"],"names":["React","useContext","useEffect","useState","Link","Pagination","AppRoute","AppContext","Product","Header","Products","products","filters","setFilters","currentPage","setCurrentPage","showProducts","setShowProducts","filteredProducts","filter","product","includes","pageProducts","slice","renderProducts","map","id","page","login"],"mappings":"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","sourcesContent":["import React, { useContext, useEffect, useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport \"antd/dist/antd.css\";\nimport { Pagination } from \"antd\";\nimport { AppRoute } from \"routing/AppRoute.enum\";\nimport { AppContext } from \"../../providers/AppProviders\";\nimport { Product } from \"../product/Product\";\nimport \"./Products.scss\";\nimport { Header } from \"app/header/Header\";\n\nexport const Products = () => {\n  const products = useContext(AppContext);\n  const [filters, setFilters] = useState<string[]>([\"all\"]);\n  const [currentPage, setCurrentPage] = useState(1);\n  const [showProducts, setShowProducts] = useState(products);\n\n  useEffect(() => setShowProducts(products), [products]);\n\n  const filteredProducts = showProducts.filter((product) => {\n    if (product[\"active\"] && filters.includes(\"active\")) {\n      return product;\n    }\n    if (product[\"promo\"] && filters.includes(\"promo\")) {\n      return product;\n    }\n    if (filters.includes(\"all\")) {\n      return product;\n    }\n  });\n\n  const pageProducts = filteredProducts.slice(\n    currentPage === 1 ? 0 : (currentPage - 1) * 4,\n    4 * currentPage\n  );\n\n  const renderProducts = () => {\n    if (!pageProducts) return null;\n\n    return pageProducts.map((product) => {\n      const { id } = product;\n      return <Product product={product} key={id} />;\n    });\n  };\n\n  return (\n    <>\n      <div className=\"products\">\n        <Header setFilters={setFilters} filters={filters} />\n        <div className=\"products__container\">{renderProducts()}</div>\n\n        <div className=\"products__pagination\">\n          <button\n            className=\"products__button\"\n            onClick={() => setCurrentPage(1)}\n          >\n            First\n          </button>\n          <Pagination\n            current={currentPage}\n            defaultPageSize={4}\n            total={20}\n            onChange={(page) => {\n              setCurrentPage(page);\n            }}\n          />\n          <button\n            className=\"products__button\"\n            onClick={() => setCurrentPage(5)}\n          >\n            Last\n          </button>\n        </div>\n      </div>\n\n      <Link to={AppRoute.login}> Login </Link>\n    </>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}